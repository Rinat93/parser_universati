                                          Сообщество IT-специалистов
Ответы на любые вопросы об IT                            Профессиональное
развитие в IT                            Удаленная работа для IT-специалистов
Мегапосты:     AR в музее[https://u.tmtm.ru/artefact_top]     Через безопасный
банк[https://u.tmtm.ru/gazprombank_glagne]     Для Java-
чемпиона[https://u.tmtm.ru/nspk_test_top]
m-pilipenkoвчера в 11:11

       

Умирает ли RuTracker? Анализируем
раздачи

Любая деятельность генерирует данные. Чем бы вы ни занимались, у вас
наверняка на руках кладезь необработаной полезной информации, ну или хотя бы
доступ к его источнику. 

Сегодня побеждает тот, кто принимает решения,
основываясь на объективных данных. Навыки аналитика как никогда актуальны, а
наличие под рукой необходимых для этого инструментов позволяет всегда быть на
шаг впереди. Это и есть подспорьем появления данной статьи.

У вас есть свой
бизнес? Или может… хотя, не важно. Сам процесс добычи данных бесконечен и
увлекателен. И даже просто хорошо покопавшись в интернете можно найти себе поле
для деятельности. 

Вот, что мы имеем сегодня – Неофициальная XML-база раздач
сайта[https://rutracker.net/forum/viewtopic.php?t=5591249] RuTracker.ORG. База
обновляется раз в полгода и содержит в себе информацию о всех раздачах за
историю существования данного торрент-трекера.

Что она может рассказать
владельцам рутрекера? А непосредственным пособникам пиратства в интернете? Или
обычному юзеру, увлекающемуся аниме, например?

Понимаете о чем я? 

Я не
поддерживаю пиратство в интернете и против него. Прибегаю к использованию
торрентов только в случае скачивания open source продуктов.

Выбор данной темы
вызван исключительно интересом к аналитике и big data.

Любая аналитика
проходит несколько основных этапов: извлечение данных, их подготовка и изучение
данных (визуализация). Для каждого этапа — свой инструмент. Потому сегодняшний
стэк:

Ревью: Dataiku работает на линуксе и маке. Доступна бесплатная версия с
ограничением пользователей до 3 человек. Документация тут[https://doc.dataiku.co
m/dss/latest/installation/requirements.html].

Удивительно, но на русскоязычных
ресурсах и даже на Хабре, до сих пор нет ажиотажа или хайпа, если хотите, на
тему неотразимости данной платформы. Возьмусь исправить сие недоразумение и
прошу поздравить dataiku с почином.

На руках сжатый xml–файл весом 5 Гб.
Внутри – база всех раздач сайта rutracker.org, с самого начала его существования
(2005 г.) и до ноября 2019 г. А это 15 лет! 

Загрузить такой обьем в R Studio
– ха! Не вариант. Мы люди простые, ресурсы ограничены. 

Значит нужна БД, дабы
подключаться и делать запросы через R. Поскольку имеем дело с Big Data выбираем
Clickhouse и … не так быстро, у нас все еще xml–файл. Надо распарсить. И опять
упираемся в ресурсы. 

Тут на сцену выходит наш сегодняшний дебютант.
Импортировать и подготовить такой обьем в Dataiku DSS не проблема. Но у нас
будет ограничение на отображаемый семпл – 10 000 строк. Просмотреть аналитику
также можно только в рамках семпла. Но для парсинга нам достаточно, вполне.
Лимит на семпл можно и поднять, документация для корректной работы советует не
больше 200 000 строк.

Создаем проект, импортируем дату. Пару минут и сырые
данные готовы к предобработке.



Получили данные разных форматов. Самые
интересные: колонка content — с описанием каждого торрента в разметке форумного
движка и несколько колонок в формате массива json.

Удаляем пока колонку
content, для сквозного анализа она будет нам в тягость. Но к ней мы еще вернемся
– там есть где закопаться.

Создаем recipe — правила предобработки. Из
соответствующих колонок достаем информацию о торренте, загружаемом файле и
форуме к которому он относится. Благо датайку позволяет нам парсить json
массивы. 



Форматируем дату регистрации торрента. Отмечу, ни строчки кода
еще не написано, и это огромный + для dataiku.

Запускаем наш recipe, ждем пол
часа — на выходе все красиво.



Забираем csv с чистой датой и импортируем в
Clickhouse.

Давайте протестируем Clickhouse и охватим наконец все 15 лет
существования rutracker-a.

Сколько же торрентов в нашей базе?

Итого 1.5 млн
торрентов и 25 млн строк. За 0.3 с! Попробуем запрос посложнее и понаблюдаем за
скоростью.

Посмотрим, к примеру, сколько книжек нам доступно для
скачивания.

300 тыс — читать не перечитать! Но согласитесь, там есть дубли.
Раз уж на то пошло узнаем их суммарный вес.

Итог – мы охватили 25 млн строк
менее чем за пол секунды. Приятно, не правда ли? 

Продолжим добывать данные
уже в R. Подключим библиотеки, в часности DBI (для работы с БД). И установим
соединение с Clickhouse.

Все, можно делать запросы, и сразу же
визуализировать. А благодаря dplyr можем легко обойтись и без переменных.

Так
умирают ли торренты? Давайте посмотрим статистику их количества на rutracker.org
по годам.



На каждом из графиков заметно просел 2016 год. Важно отметить,
что в январе 2016 официально вступило в силу решение Роскомнадзора о блокировке
rutracker.org для российских пользователей. Тогда, в СМИ сообщалось о
незначительном снижении посещаемости сайта, что коррелирует с нашей
картиной.

Количество файлов последние года очевидно возрастает, при том что
количество торрентов остается практически на одном уровне. Это значит что на
один торрент приходится все больше возможных расширений.

Пролить свет на
данную картину нам поможет статистика ТОПа расширений за весь период. 



И
вот ответ. Очень существенно возросло количество картинок в торрентах. Они и
влияют на рост количества файлов.

Давайте погуляем по разделам rutracker-a.
Узнаем их суммарный вес и количество торрентов внутри.



Топ увесистых
разделов вполне понятен и логичен. А вот антилидеры — Мобильные устройства и
Иностранные языки — вероятно на торрентах умирают. Взглянув на распределение
количества торрентов, мы в этом убедимся. Тут же, рядом расположился и раздел с
Apple.



Уяснив ранее, что торренты с годами не умирают, у вас вероятно
возник вопрос: а как же тогда время влияет на понятие торрент-трекера.  Тут мы
можем использовать агрегацию по разделам и просмотреть тенденции за ~15
лет.



Кино-пиратство на торрентах умирает — это факт. С ним за руку — Apple
и мобильные устройства, которых почти и не видно.  При этом, в последнее время
явно возрастает количество игр и сериалов. Вероятно эта тенденция будет
сохранятся. 

Отойдя немного в сторону, и взглянув на данные под новым углом,
можно обнаружить еще пару скелетов Rutracker-a. Посмотрим-ка на тепловую карту
ежедневного появления торрентов на rutracker.org.



Сразу бросается в глаза
всплеск активности в 2017 году. (ред. В мае того года на GitHub было выложено
приложение для борьбы с попытками российских властей замедлять скорость
скачивания файлов). А вот блокировка сайта в 2016 году отнюдь не очевидна, т.к
существенно не повлияла на активность добавления торрентов.

Закопаться можно и
хочется в любую из найденых выше закономерностей. Добывать данные можно до
бесконечности. А писать и читать статью – нет.  Давайте еще немного поиграем,
вернем весьма информативную колонку content и посмотрим что нам расскажут
данные, к примеру, об аниме за последние 15 лет.

Создаем новую ветку,
оставляем все видео файлы касательно аниме и парсим колонку с описанием
торрентов: вытягиваем режиссера, страну, жанр, продолжительность и год выхода
анимешки. 



Отфильтруем картинки, субтитры и инфо-файлы. Также поднимем
лимит отображаемого семпла. Пару кликов – все красиво.



Предлагаю взглянуть
на года выхода наших анимешек и в тоже время потрогать удобнейшую функцию
датайку – внутриколоночную аналитику.



Резюмирую: на rutracker.org доступно
для скачивания аниме снятое за последние пол века, если быть точнее, уникальных
годов выпуска — 60. При этом наиболее продуктивными оказались 2009 — 2014
года.

Платформа также позволяет моментально визуализировать данные. И при
этом, напомню, никакого кода. Просто выбираем нужные фильтры.

К примеру,
агрегируем Японию и возьмем топ самых продуктивных режиссеров. Получаем тепловую
карту их активности простым перетаскиванием переменных.



К чему я веду,
dataiku — отличный инструмент для аналитика любого уровня. Импорт, подготовка,
анализ и визуализация данных реализуется как кодом (R, Python), так и кликаньем
мышки. Но это уже совсем другая история и отличная тема для следующей
статьи.

А пока, возвращаясь к RuTracker, констатируем: торренты не умирают,
даже в условиях блокировок. Сама же база раздач невероятно емкая и может
ответить еще не на один вопрос. Могу пообещать сделать больше аналитики, при
проявленном интересе. Предлагайте свои гипотезы в комментариях.Укажите причину
минуса, чтобы автор поработал над ошибками                               Метки
лучше разделять запятой. Например: программирование, алгоритмыОй, у вас баннер
убежал! Ну. И что?[https://u.tmtm.ru/tmtalkadblock]
Присылаем лучшие статьи раз в месяц                Скоро на этот адрес придет
письмо. Подтвердите подписку, если всё в силе.       +11312012036,2k93
Поделиться                      Скопировать ссылку
Указан только блог                               Орфографические ошибки
Пунктуационные ошибки                               Отступы
Текст-простыня                               Короткие предложения
Смайлики                               Много форматирования
Картинки                               Ссылки
Оформление кода                               Рекламный характер         Опишите
суть нарушения                Платежная система

Похожие публикации

13
декабря 2019 в 16:59                                          +15
+15                   3,5k                 3,5k                   31
31613 декабря 2019 в 02:20                                          +9
+9                   3,3k                 3,3k                   38
38028 ноября 2019 в 12:35                                          +7
+7                   2k                 2k                   35
350                       Вакансии       [https://career.habr.com/vacancies]
от 50 000                                               до 70 000
от 50 000                                до 70 000
ИнфокультураМоскваМожно удаленно                                от 100 000
до 300 000                                           от 100 000
до 300 000               ЯндексМосква                                от 32 725
до 38 500                                           от 32 725
до 38 500               MarsМосква                                от 70 000
до 100 000                                           от 70 000
до 100 000               ИнфокультураМоскваМожно удаленно
от 100 000                                               до 300 000
от 100 000                                до 300 000
ЯндексМоскваAdBlock похитил этот баннер, но баннеры не зубы — отрастут
Подробнее[https://u.tmtm.ru/tmtalkadblock]

         Комментарии         


93         kirillrst+3m-pilipenko+5anatoly3140Javian+2v10000sumanai0hd_keeper0su
manai0hd_keeper0vilgeforce+17redsh0927+18vilgeforce+1Newbilius+4

Справедливост
и ради: у купивших игру в стиме остаётся возможность игру заново скачать в
стиме. По какой бы причине игра не была удалена — вы свои деньги не потеряли,
игра при вас.

Вот с XP конечно досадно, но опять же, справедливости ради:
настолько старые игры часто не защищены стимовским DRM. Т.е. их можно скачать на
современной ОС, а потом тупо скопировать папку с игрой на старую машину — и всё
заработает. Опять таки, "часто" не значит "всегда" и даже "в большинстве
случаев", но тем не менее.

"Справедливости ради" номер три, "многие игры из
стим, нормальное работающие только на XP" явно в меньшинстве в стиме.
Большинство таки нормально работают на современных ОС. Слабое оправдание для
ситуации, когда ты хочешь поиграть в конкретную игру, но тем не
менее.chersanya0Rampages+2Stam_emg0ivan967110philya+4

На рутрекере в раздаче
Группа "Реки" / Дискография есть вот такая благодарность:AVL93+3firk0

Кому
может и никакой, а кто-то может быть против распространения вообще (хоть
коммерческого, хоть бесплатного), и не обязан вам даже сообщать причины такого
решения. И не надо у добросовестных авторов отнимать это право.  Когда подобным
занимаются копирайтодержатели, не являющиеся авторами — другое дело.qoj0

После
первого запроса, время его выполнения написано 0.03с вместо 0.3с.  Статья
интересная,
спасибо.Kwisatz+13C_210Lendges+1xakep20110kirillrst0m-pilipenko0

Как правило,
тем, кому не заходит математика — легко дается статистика и, особенно легко,
теория вероятности. Парадокс, но сама видела, и не раз, такую ситуацию. Надо
пробовать.lagranzh0lain8dono+27

Пиратсво это плохо? Пиратсво это хорошо. Без
пиратсва вы бы до сих пор ходили в магазин за всем тем, что можно купить онлайн.
С точки зрения индустрии с пиратсвом надо бороться, но не запретами, а
качественным контентом, адекватной ценой и удобством.

Newbilius–1

Пиратство
— это плохо.  Отказ от покупки контента на не устраивающих тебя условиях —
хорошо.redsh0927+10Newbilius+1

А создание этих байтиков — стоит ;-)

Да,
холиварная тема. Я могу понять "пиратство" контента, который нельзя никак иначе
получить — игры, который в определённую страну не завозили и не издавали,
сериалы в сервисах, которые в стране не работают и т.п. Автор владеет правами на
игру, но не выкладывает её в GOG, Steam или другой цифровой стор? Значит ему
просто не нужны ваши деньги, ну что тут сделаешь :)

Но вот чего не могу
принять — так это принципиальной позиции "пиратство — хорошо". Вот GPL и прочие
подобные движения — да, хороши. Они агититруют авторов по иному распоряжаться
своим творением.Xobotun+2Newbilius0

А вот тут согласен! Другое дело, что тот
же Steam для игр упростил ситуацию с "попробуй, прежде чем купить" — всегда
можно вернуть продукт, если за первые условные 2 часа игра не понравилась. А вот
с кино ситуация сложнее. С другой стороны, для книг и сериалов демо-период или
демо-доступ организовать не сложно (первые X серий/глав бесплатно), странно, что
этим пока мало площадок пользуется.boingo-000

У гугла и амазона сам видел
демки книг, первые несколько глав. Причем достаточный объем, чтобы понять
интересность книги.  Проблемы демок в любой области в том, что зная момент,
который в демке будет виден, можно только его сделать качественным, а остальное
сделать средненькоRampages0max_rip0vikarti0webkumo0

Хм? Литрес и площадки типа
author.today уже давно такое практикуют (точнее в первом — сами литресовцы
сделали — ~30% в начале книги бесплатно, а во втором — авторы на длинных сериях
первую книгу зачастую выставляют
бесплатно).redsh0927+2vikarti0pvvv+2KvanTTT0

Это тоже холиварная тема. Вот на
мой взгляд хорошие движения — это MIT, в которых автор не ограничивает
использование своих творений только в открытых
продуктах.Stasgar0chersanya+2Tangeman+1

Давайте будем называть вещи своими
именами — "убытки" — это когда реальные затраты превосходят реальные доходы.
Т.е. выпустили фильм, потратив на него $100 млн, а собрали всего $50 млн — да,
имеем убытки. Если собрали $200 млн — то уже имеем прибыль, и никакие пиратки (и
даже выкладывание его в свободном доступе) не смогут сделать его убыточным.

В
то же время, в связи с наличием отсутствия параллельной реальности, доказать что
можно было бы ещё столько же собрать (да пусть вообще хоть что-то собрать) если
бы не пиратки — невозможно, равно как и невозможно доказать что именно пиратки
виноваты в сборах ниже бюджета (часто они вообще не виноваты, не все
произведения окупаются).Stasgar0transcengopher0

Учитывая типичную политику
всех крупных издателей выпускать игры с критическими багами (которые потом чинят
в патчах (или не чинят, если продалось не очень)) или просто недоделанными
(пользуясь случаем, передаю привет всем игрокам Anthem, а так же персональный
привет Bioware и их Anthem Roadmap) — против покупок игр в первый день сами
издатели борются куда лучше пиратов.Druu+1

А эти убытки точно есть?  Вообще,
непонятен этот спор в 2020. Вот был раньше рынок пека-гейминга, который мертвый.
А потом пришел габен и как-то бац — оказалось, что люди вполне готовы платить за
контент и сервис, надо лишь им предоставить такую возможность. И нет никаких
убытков.sterr+1lain8dono+2

Меня не устраивает качество контента, качество
перевода, цена, отсутствие выбора и условия приватности. Кроме того я буду
бесплатно смотреть тот контент, который не стал бы покупать в любом случае. И в
том и в другом случае я не заплатил за этот контент. Но я же могу посоветовать
кому-то другому, для кого этот контент окажется достаточно ценным, чтоб
потратить на него деньги.

Кроме того вы забываете, что контент во многих
случаях не сам создаёт деньги, а рекламирует всякие фигурки, наклейки, футболки,
значки и прочих хлам, в том числе и цифровой. И доходы от этого хлама будут
больше в разы и на порядки.Newbilius+1

Если не секрет: а… зачем вы его тогда
смотрите? Вам жалко денег, но не жалко времени?
О_ОSequoza0kovserg+9ivanych0

Зачем вы настаиваете на том, что в русском языке
нет омонимов?basil_pivovarov+1xijinpooh0xFFFF0eumorozov+2

Это правда. Многие
уже даже не знают, что такое торрент. И даже подкованные технически знакомые,
когда спрашивал, как они смотрят кино, отвечали: «Просто вбиваю название в
поисковик и смотрю онлайн».

Ну а торрентам желаю процветания и долгой жизни.
Например, когда у меня была подписка Netflix, я был в легком шоке от того, что
найти там какой-то сериал с нужным языком и субтитрами — почти нерешаемая
задача.

Например, для поддержания уровня испанского, стараюсь смотреть иногда
сериалы на испанском. Вбиваю в поиск «сериалы на испанском», нахожу десятки
сериалов, причем именно Netflix. Но в приложении и на сайте Netflix найти их не
могу — просто не находит. А если что-то даже находит, то предлагает только на
английском, хотя сериал испанский/латиноамериканский и был снят на этом
языке.

Эти попытки все время «додумать» за меня, что мне нужно, так сильно
бесят, что отменил подписку после 2-3 месяцев мучений. Понимаю, что
ориентируются всегда на самого массового пользователя, в том числе и содержание
фильмов/сериалов давно уже математически рассчитано на вкус самого массового
зрителя, и это уже смотреть невозможно, хотя никогда не считал себя ценителем
изысканного кино. И так редко смотрел кино, а если торренты исчезнут, то просто
перестану смотреть вообще, и вряд ли пожалею.rogoz+2qyix7z+2Survtur0Rebeiro+4Xob
otun+3Survtur0johnson-730DjSens+1hd_keeper+7FastGrandmother0CYBERPRESENT+4AngelN
et0NerVik0

а они разве не перестали прогибаться после бана
роскомэтимсамым?CYBERPRESENT0Temtaime0Rim130

Ух ты, леер. Не ожидал его здесь
услышать.  Свежее там да, норм. Остальное может протухнуть + так же если есть
рус. лицензия, то контент с сайта удаляют.Ilirium+1McKinseyBA0vitalvas0vagon3330
AndreyAvt0sim2q+2Temtaime0sim2q0Playa0

Там обычно этим модераторы занимаются
:)  Одинаковые раздачи либо удаляются, либо
поглощаются.sim2q0elcolex7770rvs20160NiceDay0

за 3 евро/месяц можно взять впс
на овх, с характеристиками достаточными для pptpd, за 4 — на контабо, который
потянет openvpn.  гайдов по настройке за 5-10 циклов copy/paste в интернете пруд
пруди. fisoon0oldbie0yuralucky0ELEKTRO_YAR0kovserg0Только полноправные
пользователи[/info/help/registration/] могут оставлять комментарии.
Войдите[https://habr.com/ru/auth/login/], пожалуйста.                       7,4k
7,4k49                       36,1k                     36,1k93
9,7k                     9,7k136                       10,8k
10,8k108                       2,7k                     2,7k37
9,7k                     9,7k136                       36,1k
36,1k93                       7,4k                     7,4k49
7,1k                     7,1k39                       2,7k
2,7k37                       46,5k                     46,5k499
104k                     104k381                       15,2k
15,2k321                       33,5k                     33,5k226
39,1k                     39,1k197

Самое читаемое


&plus;275                     &plus;275                       104k
104k                       230                     230381
&plus;113                     &plus;113                       36,1k
36,1k                       120                     12093
&plus;37                     &plus;37                       25,4k
25,4k                       18                     1833
&plus;30                     &plus;30                       16,6k
16,6k                       8                     863
&plus;78                     &plus;78                       18,1k
18,1k                       42                     4279
&plus;275                     &plus;275                       104k
104k                       230                     230381
&plus;146                     &plus;146                       64,1k
64,1k                       254                     254187
&plus;171                     &plus;171                       46,5k
46,5k                       34                     34499
&plus;30                     &plus;30                       39,1k
39,1k                       114                     114197
&plus;113                     &plus;113                       36,1k
36,1k                       120                     12093
&plus;22                     &plus;22                       896k
896k                       223                     2232149
&plus;76                     &plus;76                       178k
178k                       229                     229246
&plus;14                     &plus;14                       142k
142k                       43                     4346
&plus;95                     &plus;95                       106k
106k                       153                     1532182
&plus;275                     &plus;275                       104k
104k                       230                     230381

Рекомендуем

© 2006
– 2020 «TM[https://tmtm.ru/]»Настройка языка
Русский                                                 English
Русский                                                 Английский